(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"1OyB":function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return o}))},JX7q:function(e,t,n){"use strict";function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return o}))},Ji7U:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n("s4An");function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Object(o.a)(e,t)}},foSv:function(e,t,n){"use strict";function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",(function(){return o}))},md7G:function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",(function(){return r}));var i=n("JX7q");function r(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Object(i.a)(e)}},"r3i/":function(e,t,n){"use strict";n.r(t),n.d(t,"projectsAnimations",(function(){return u}));var o=n("KQm4"),i=n("Womt"),r=n("pc+1");function u(){var e,t=this,n=document.querySelector(".projects"),u=!1,c=document.getElementById("p-container"),a=document.querySelector(".projects-wrapper"),f={width:a.clientWidth,height:a.clientHeight,aspectRatio:a.clientWidth/a.clientHeight};Number.prototype.map=function(e,t,n,o){return(this-e)*(o-n)/(t-e)+n},window.addEventListener("resize",function(){p.aspect=f.aspectRatio,p.updateProjectionMatrix(),s.setSize(f.width,f.height)}.bind(this),!1);var s=new i.r({antialias:!0,alpha:!0});s.setSize(f.width,f.height),s.setPixelRatio(window.devicePixelRatio),c.appendChild(s.domElement);var l=new i.i,p=new i.f(40,f.aspectRatio,.1,100);p.position.set(0,0,3);var v=new i.n;e=new i.a,s.setAnimationLoop(function(){2*e.getDelta(),s.render(l,p)}.bind(this));var d,h,m=Object(o.a)(n.querySelectorAll(".project"));m=m.map((function(e,t){return{element:e,img:e.querySelector("img")||null,index:t}}));var b={},y=p.position.z,w=p.fov*Math.PI/180,g=2*Math.tan(w/2)*y*f.aspectRatio,x=2*Math.tan(w/2)*y;function O(e,t){e,function(e,t){if(!u)return;if(function(){h&&d||(d=!0,r.d.to(M.uAlpha,.5,{value:1,ease:r.b.easeOut}))}(),h&&h.index===e)return;!function(e){if(!(h=m[e]).texture)return;var t=h.img.naturalWidth/h.img.naturalHeight;A=new i.o(t,1,1),M.uTexture.value=h.texture,_.scale.copy(A)}(e)}(e)}function P(){M.uOffset.value=_.position.clone().sub(E).multiplyScalar(-b.strength)}m.forEach((function(e,n){e.element.addEventListener("mouseover",O.bind(t,n),!1)})),c.addEventListener("mousemove",function(e){v.x=e.clientX/f.width*2-1,v.y=-e.clientY/f.height*2+1,function(e){var t=v.x.map(-1,1,-g/2,g/2),n=v.y.map(-1,1,-x/2,x/2);E=new i.o(t,n,0),r.d.to(_.position,1,{x:t,y:n,ease:r.b.easeOut,onUpdate:P.bind(this)})}()}.bind(this),!1),n.addEventListener("mouseleave",function(e){d=!1,r.d.to(M.uAlpha,.5,{value:0,ease:r.b.easeOut})}.bind(this),!1),b.strength=b.strength||.25;var j,S,E=new i.o(0,0,0),A=new i.o(1,1,1),T=new i.g(1,1,32,32),M={uTime:{value:0},uTexture:{value:null},uOffset:{value:new i.n(0,0)},uAlpha:{value:0}},U=new i.j({uniforms:M,vertexShader:"\n                uniform vec2 uOffset;\n                varying vec2 vUv;\n                vec3 deformationCurve(vec3 position, vec2 uv, vec2 offset) {\n                  float M_PI = 3.1415926535897932384626433832795;\n                  position.x = position.x + (sin(uv.y * M_PI) * offset.x);\n                  position.y = position.y + (sin(uv.x * M_PI) * offset.y);\n                  return position;\n                }\n                \n                void main() {\n                  vUv = uv;\n                  vec3 newPosition = position;\n                  newPosition = deformationCurve(position,uv,uOffset);\n                  gl_Position = projectionMatrix * modelViewMatrix * vec4( newPosition, 1.0 );\n                }\n              ",fragmentShader:"\n                uniform sampler2D uTexture;\n                uniform float uAlpha;\n                uniform vec2 uOffset;\n                varying vec2 vUv;\n                vec3 rgbShift(sampler2D texture, vec2 uv, vec2 offset) {\n                  float r = texture2D(uTexture,vUv + uOffset).r;\n                  vec2 gb = texture2D(uTexture,vUv).gb;\n                  return vec3(r,gb);\n                }\n                void main() {\n                  vec3 color = rgbShift(uTexture,vUv,uOffset);\n                  gl_FragColor = vec4(color,uAlpha);\n                }\n              ",transparent:!0}),_=new i.d(T,U);l.add(_),(j=[],S=new i.l,m.forEach((function(e,t){j.push(function(e,t,n){return new Promise((function(o,i){t?e.load(t,(function(e){o({texture:e,index:n})}),void 0,(function(e){console.error("An error happened.",e),i(e)})):o({texture:null,index:n})}))}(S,e.img?e.img.src:null,t))})),new Promise((function(e,t){Promise.all(j).then((function(t){t.forEach((function(e,t){m[t].texture=e.texture})),e()}))}))).then((function(){console.log("load finished"),u=!0}))}},rePB:function(e,t,n){"use strict";function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return o}))},vuIU:function(e,t,n){"use strict";function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,"a",(function(){return i}))}}]);
//# sourceMappingURL=15-420c958866c4477fc60f.js.map